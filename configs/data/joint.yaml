datamodule:
  _target_: zatom.data.joint_datamodule.JointDataModule

  datasets:
    mp20:
      _target_: zatom.data.components.mp20_dataset.MP20
      root: ${paths.data_dir}/mp_20
      proportion: 1.0
      # Registry metadata
      id: 0
      type_label: 0 # Periodic

    qm9:
      _target_: torch_geometric.datasets.QM9
      root: ${paths.data_dir}/qm9
      removeHs: false # only retain heavy atoms
      proportion: 1.0
      global_property: null # NOTE: if provided, must be either `all` or one of the properties listed in https://pytorch-geometric.readthedocs.io/en/latest/generated/torch_geometric.datasets.QM9.html
      # Registry metadata
      id: 1
      type_label: 1 # Non-periodic

    qmof150:
      _target_: zatom.data.components.qmof150_dataset.QMOF150
      root: ${paths.data_dir}/qmof
      proportion: 0.0
      # Registry metadata
      id: 2
      type_label: 0 # Periodic

    omol25:
      _target_: zatom.data.components.omol25_dataset.OMol25
      root: ${paths.data_dir}/omol25
      proportion: 0.0
      subset: "_4M" # NOTE: must be one of ("", "_4M")
      global_energy: null # NOTE: if true, predict *both* global energy and per-atom forces; if false or null, skip energy and force prediction
      # Registry metadata
      id: 3
      type_label: 1 # Non-periodic

    geom:
      _target_: zatom.data.components.geom_dataset.GEOM
      root: ${paths.data_dir}/geom
      proportion: 0.0
      # Registry metadata
      id: 4
      type_label: 1 # Non-periodic

    mptrj:
      _target_: zatom.data.components.mptrj_dataset.MPtrj
      root: ${paths.data_dir}/mptrj
      proportion: 0.0
      global_energy: null # NOTE: if true, predict *both* global energy and per-atom forces; if false or null, skip energy and force prediction
      # Registry metadata
      id: 5
      type_label: 0 # Periodic

  batch_size:
    base_world_size: 2
    base_accumulate_grad_batches: 2
    train: ${resolve_batch_size:128,${model.architecture.batch_size_scale_factor}}
    val: ${resolve_batch_size:128,${model.architecture.batch_size_scale_factor}}
    test: ${resolve_batch_size:128,${model.architecture.batch_size_scale_factor}}

  num_workers:
    train: 32
    val: 32
    test: 32
